<!doctype html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    <meta name="csrf-token" content="IjBlYmYwNGZmNWIwYTkyYWMyNWVkODhiNmQ2NzRjZDllOWM2ZWIxYTgi.YoFMdA.n7D3nv-20-pXwBUvCd7Q9CxpML0">
    <link rel="apple-touch-icon" sizes="180x180" href="https://img.hellogithub.com/favicon/apple-touch-icon.png">
    <link rel="android-chrome" sizes="192x192" href="https://img.hellogithub.com/favicon/android-chrome-192x192.png">
    <link rel="android-chrome" sizes="512x512" href="https://img.hellogithub.com/favicon/android-chrome-512x512.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://img.hellogithub.com/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://img.hellogithub.com/favicon/favicon-16x16.png">
    <link rel="icon" href="https://img.hellogithub.com/favicon/favicon.ico">
    <title>HelloGitHub </title>
    <link rel="stylesheet" href="/static/css/pure.min.css?q=1634283466">
    

    
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="分享 GitHub 入门级、有趣的开源项目。推广自己的开源项目、编程实践项目、适合练手的开源项目、HelloGitHub月刊">
<link rel="stylesheet" href="/static/css/side-menu.css?q=1634283466">
<link rel="stylesheet" href="/static/css/notice.css?q=1634283466">
<link rel="stylesheet" href="/static/css/article.css?q=1645505249">
<link rel="stylesheet" href="/static/css/md.css?q=1642173721">



    <script data-ad-client="ca-pub-1361072126478946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?73e0d9a1bd6e22a206afe0551e5e603d";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
    </script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-101093029-1', 'auto');
      ga('send', 'pageview');
    </script>
</head>

<body>


<div id="notice" dir="ltr" class="cc-banner active" role="alert">
    <div class="cc-container">
      <svg class="cc-icon cc-v-center" x="0px" y="0px" viewBox="0 0 44 44" height="30px" fill="none" stroke="currentColor">
        <circle cx="22" cy="22" r="20" stroke-width="2"></circle>
        <line x1="22" x2="22" y1="18" y2="33" stroke-width="3"></line>
        <line x1="22" x2="22" y1="12" y2="15" stroke-width="3"></line>
      </svg>
      <span class="cc-v-center cc-text">
          <strong>公告：</strong>又拍云为开发者提供免费的云存储服务。<a id="notice_url" href="https://www.upyun.com/league" onclick="track_notice()" target="_blank" class="cc-link cc-v-center">点击获取</a>
      </span>
    </div>
</div>


<div id="layout">
    <!-- Menu toggle -->
    <a href="#menu" id="menuLink" class="menu-link">
        <!-- Hamburger icon -->
        <span></span>
    </a>

    <div id="menu">
        <div class="pure-menu">
            <a class="pure-menu-heading" href="/">HelloGitHub</a>
            <ul class="pure-menu-list">
                <li class="pure-menu-item"><a href="/" class="pure-menu-link">首页</a></li>
                <li class="pure-menu-item"><a href="/periodical/volume/" class="pure-menu-link">月刊</a></li>
                <li class="pure-menu-item"><a href="/report/tiobe/?url=/periodical/volume/" class="pure-menu-link">编程语言月报</a></li>
                <li class="pure-menu-item"><a href="/report/netcraft/?url=/periodical/volume/" class="pure-menu-link">服务器月报</a></li>
                <li class="pure-menu-item"><a href="/report/db-engines/?url=/periodical/volume/" class="pure-menu-link">数据库月报</a></li>
                <li class="menu-item-divided pure-menu-selected">
                    <a href="/article/?page=1&url=/periodical/volume/&sort=new" class="pure-menu-link">返回</a>
                </li>
                <li class="pure-menu-item"><a href="/onefile/?url=/periodical/volume/" class="pure-menu-link">编程挑战</a></li>
            </ul>
        </div>
    </div>
    <div id="main">
        <div class="markdown-body">
            <h1>支持中文！秒建 wiki 知识库的开源项目，构建私人知识网络</h1>
            <p><img src="https://img.hellogithub.com/article/yjF6YmLQbnOd5XJ_1649987041.jpg" alt="cover.jpeg" /></p>

<p>不知道有没有人和我一样，觉得自建的东西是互联网上的“自留地”、私人空间，有一种自己的一亩三分地随心所欲的痛快。</p>

<p>比如自建的博客想写什么随笔就写什么，不用取悦读者可以自娱自乐；再比如自建的 wiki 有不会的知识点就可以直接记录，不用担心被嘲笑低级。抛开共建这块不聊，Wiki 不同于博客的随性，记录的内容更注重知识点和分类，可以用来构建自己的知识网络。</p>

<p><img src="https://img.hellogithub.com/article/K3uUZpjf9TegCRV_1649987051.png" alt="1.png" /></p>

<p>如果把博客比作“日记本”，那 wiki 就是“笔记本”它用来记录知识点，方便用时查阅和更新，有清晰的目录而且一个知识点还可以关联到其它知识点，逐步拓展成“百科全书”。</p>

<h2>一、介绍</h2>

<p>知识在于积累，还不能忘记梳理。</p>

<p>今天，我们要介绍的开源项目是专门用来构建 wiki 平台，助你梳理知识点的 wiki.js</p>

<p><img src="https://img.hellogithub.com/article/mk6wSAbD1Fuh0UL_1649987059.png" alt="2.png" /></p>

<blockquote>
  <p>地址：https://github.com/requarks/wiki</p>
</blockquote>

<p>它是一款轻量级、功能强大的 wiki 开源项目，拥有评论、Markdown 编辑器、图片上传、标签、全局搜索、协同编辑、编辑历史、用户管理、谷歌分析等功能，而且支持高度自定义。</p>

<p><img src="https://img.hellogithub.com/article/mgd2sPRT86CEw3N_1649987067.png" alt="3.png" /></p>

<p>用到的技术栈也不同于老旧的 wiki 系统，它采用了 Node.js、PostgreSQL、Vue.js、Docker 等技术。基于 Docker 实现的一键部署，颇有 WordPress 之风，不要太爽！</p>

<p><img src="https://img.hellogithub.com/article/kN5GxCSjsQILAVf_1649987074.png" alt="4.png" /></p>

<p>重点是支持中文，而且界面简洁还不失美感，这点足以让它在众多同类项目中脱颖而出。</p>

<p>看到这儿，你是不是手痒了呢？下面就和我一起来让它跑起来吧！</p>

<h2>二、安装</h2>

<p>开源项目成功的必要因素之一就是有详细易懂的文档，而安装说明又是重中之重。</p>

<p>Wiki.js <a href="https://docs.requarks.io/install">官方文档</a>提供了多种部署方法，包括：Linux、macOS、Windows、Docker、k8s 等，涵盖了几乎所有可能性，十分全面。</p>

<p>下面我就介绍其中最快捷和通用的一种，即基于 Docker 的 Docker Compose 部署。</p>

<p><img src="https://img.hellogithub.com/article/iyk14suhXvpUVcm_1649987083.png" alt="5.png" /></p>

<p><strong>Tips</strong>：如果你不懂 Docker 建议跟着<a href="https://docs.requarks.io/install/ubuntu">这里</a>逐步执行</p>

<p>下面我将主要介绍 Linux 下的安装步骤，其它系统有桌面版不再赘述。</p>

<p><strong>如果你机器上有 Docker 仅需两步即可完成安装。</strong></p>

<p><strong>第一步</strong>，安装 docker-compose：</p>

<p>1、下载</p>

<pre><code>curl -L https://get.daocloud.io/docker/compose/releases/download/v2.4.1/docker-compose-`uname -s`-`uname -m` &gt; /usr/local/bin/docker-compose
</code></pre>

<p>2、加执行权限</p>

<pre><code>$ sudo chmod +x /usr/local/bin/docker-compose
</code></pre>

<p>3、创建快捷方式</p>

<pre><code>$ sudo ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose
</code></pre>

<p>至此，你就可以在任何地方使用 <code>docker-compose</code> 命令了。</p>

<p><strong>第二步</strong>，运行 docker-compose：</p>

<p>1、创建配置文件 <code>docker-compose.yml</code> 内容如下：</p>

<p>整个项目分为 <strong>数据库</strong> 和 <strong>项目代码</strong> 两部分，与之对应的是 <code>pg 容器</code> 和 <code>wiki 容器</code>。</p>

<pre><code>version: "3"
services:

  db:
    container_name: pg
    image: postgres:11-alpine
    environment:
      POSTGRES_DB: wiki
      POSTGRES_PASSWORD: wikijsrocks
      POSTGRES_USER: wikijs
    logging:
      driver: "none"
    restart: unless-stopped
    volumes:
      - db-data:/var/lib/postgresql/data

  wiki:
    container_name: wiki
    image: ghcr.io/requarks/wiki:2
    depends_on:
      - db
    environment:
      DB_TYPE: postgres
      DB_HOST: db
      DB_PORT: 5432
      DB_USER: wikijs
      DB_PASS: wikijsrocks
      DB_NAME: wiki
    restart: unless-stopped
    ports:
      - "8001:3000"

volumes:
  db-data:
</code></pre>

<p>2、在配置所在的目录下，执行命令：</p>

<ul>
<li>运行：<code>docker-compose up -d</code> </li>
<li>查看容器：<code>docker ps</code></li>
<li>停止：<code>docker-compose down</code></li>
</ul>

<p><img src="https://img.hellogithub.com/article/yTGDLmZj3XwFAzg_1649987095.png" alt="6.png" /></p>

<p>最后，如果你想开启 HTTPS 的话，我这里推荐用 Caddy 服务器。没用过没关系，我们写过介绍使用 Caddy 的<a href="https://mp.weixin.qq.com/s?__biz=MzA5MzYyNzQ0MQ==&amp;mid=2247511790&amp;idx=1&amp;sn=8d1641426d6e53fa23e9a9364fc8f05d&amp;chksm=90581bb0a72f92a6ca0044c35f1259d29aa8dc33024b37040caeaf306225f86468abceb25e9e&amp;token=502374771&amp;lang=zh_CN#rd">文章</a>特别简单。</p>

<p>Caddyfile 的配置内容如下：</p>

<p>8001 端口对应的是上面 wiki 容器的 ports 端口映射</p>

<pre><code>域名 {
    reverse_proxy 127.0.0.1:8001
}
</code></pre>

<p>执行 <code>caddy start</code> 启动 Caddy 服务器，浏览器中访问对应的域名，网站初始化的引导界面，就会出现在你的面前了。</p>

<p><img src="https://img.hellogithub.com/article/k2EZynoIRW84qwN_1649987118.png" alt="7.png" /></p>

<p>至此，以上就是 wiki.js 安装的全过程，你跑起来了吗？</p>

<h2>三、瑕不掩瑜</h2>

<p>Wiki.js 并不是十全十美的，虽然我只是刚上手，但还是发现了一些美中不足：</p>

<ul>
<li><p>第一次访问加载速度较慢</p></li>
<li><p>虽然 wiki.js 更新积极、提交频繁，但目前它还不支持自定义主题</p></li>
<li><p>对中文搜索不友好，默认不支持中文搜索，需要采用 ES 但这样就不再轻量，或者采用 pg 插件让 pg 支持中文分词</p></li>
<li><p>中文翻译覆盖率并不像官网展示的 100%，管理后台里还是有未翻译的地方</p></li>
</ul>

<p>但是瑕不掩瑜，它基本上实现了我对 wiki 想要的所有功能。而且总好过自己从头实现一个 wiki 系统吧，后面我会用 wiki.js 做一个新的网站：</p>

<blockquote>
  <p>https://cheatsheet.store/</p>
</blockquote>

<p>等我玩顺手了搞通上面的问题就去给它提 PR 做贡献，期待更强大的 wiki.js！</p>

<h2>四、最后</h2>

<p>知识需要融会贯通。</p>

<p><img src="https://img.hellogithub.com/article/U4I9VkrqsmCphOl_1649987127.jpg" alt="8.jpeg" /></p>

<p>知识本是杂乱无章的，需要通过实践经验，让它们建立联系，变得井然有序，才会得心应手，释放出强大的创造力。</p>

<p>最后，用 wiki.js 构建你的知识网络，梳理已有的知识不断推陈出新，让它在你寻求更高突破的路上，助你一臂之力！</p>

<p>更多讲解开源项目的文章尽在：https://github.com/HelloGitHub-Team/Article</p>

            <p><img src="https://img.hellogithub.com/ad/footer.png" alt=""></p>
        </div>
    </div>
</div>



<script src="/static/js/ui.js?q=1634283466"></script>
<script src="/static/js/scroll_before_location.js?q=1634283466"></script>
<script>
    function track_notice() {
        var raw_url = document.location.toString();
        var arrUrl = raw_url.split("//");

        var start = arrUrl[1].indexOf("/");
        var path = arrUrl[1].substring(start);

        if(path.indexOf("?") !== -1){
            path = path.split("?")[0];
        }
        var url = document.getElementById("notice_url").href;
        var xmlhttp = new XMLHttpRequest();
        xmlhttp.open("GET", "https://hellogithub.com/periodical/statistics/notice/?target="+url+"&path="+path, true);
        xmlhttp.send(null);
    }
</script>

<link rel="stylesheet" href="/static/css/atom-one-light.min.css?q=1634283466">
<script src="/static/js/highlight.pack.js?q=1634283466"></script>
<script>hljs.initHighlightingOnLoad();</script>

</body>

</html>